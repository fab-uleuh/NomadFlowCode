---
title: Configuration
description: Full reference for the NomadFlowCode config.toml file.
---

NomadFlowCode reads its configuration from `~/.nomadflowcode/config.toml`. All fields are optional — sensible defaults are used when omitted.

## Full example

```toml
[paths]
base_dir = "~/.nomadflowcode"

[tmux]
session = "nomadflow"

[ttyd]
port = 7681

[api]
port = 8080
host = "0.0.0.0"

[auth]
secret = "my-secret-token"

[tunnel]
subdomain = "fabien"
```

## Reference

### `[paths]`

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `base_dir` | string | `~/.nomadflowcode` | Base directory for repos, worktrees, and config. `~` is expanded to the user's home. |

The following subdirectories are created automatically:
- `{base_dir}/repos/` — bare git clones
- `{base_dir}/worktrees/` — checked-out worktrees per feature

### `[tmux]`

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `session` | string | `nomadflow` | Name of the tmux session to create and manage. |

### `[ttyd]`

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `port` | integer | `7681` | Port for the ttyd web terminal process. |

### `[api]`

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `port` | integer | `8080` | Port for the HTTP API server. |
| `host` | string | `0.0.0.0` | Bind address for the API server. |

### `[auth]`

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `secret` | string | `""` (empty) | Shared secret for API authentication. When empty, auth is disabled. |

When set, this secret is used as:
- **Bearer token** for API requests (`Authorization: Bearer <secret>`)
- **Basic Auth password** for ttyd (username: `nomadflow`)
- **Query parameter** for WebSocket proxy (`/terminal/ws?token=<secret>`)

### `[tunnel]`

Settings for the public tunnel (`nomadflow serve --public`). See [Public Tunnel](/docs/server/tunnel).

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `relay_host` | string | `relay.nomadflowcode.dev` | Hostname of the relay server. |
| `relay_port` | integer | `7835` | Port of the bore server on the relay. |
| `relay_secret` | string | *(built-in)* | Shared secret for relay registration. Pre-configured for the community relay — only change this if you self-host. |
| `subdomain` | string | `""` (random) | Preferred subdomain for a stable public URL. When set, your tunnel always uses `https://<subdomain>.tunnel.nomadflowcode.dev` instead of a random one. Must be 3–32 characters, alphanumeric and hyphens only. |

#### Stable subdomain

By default, each `nomadflow serve --public` generates a new random subdomain, which means a new QR code to scan every time. Set `subdomain` to keep the same URL across restarts:

```toml
[tunnel]
subdomain = "fabien"
# → https://fabien.tunnel.nomadflowcode.dev
```

If your IP already holds the subdomain (e.g. after a server restart), it is re-registered automatically. If another IP holds it, registration fails with `409 Conflict`.
